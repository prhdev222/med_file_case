# ЁЯзк р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕г Test р╕гр╕░р╕Ър╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в

## ЁЯУЛ р╕кр╕▓р╕гр╕Ър╕▒р╕Н
1. [р╕Бр╕▓р╕гр╣Ар╕Хр╕гр╕╡р╕вр╕бр╕гр╕░р╕Ър╕Ъ](#р╕Бр╕▓р╕гр╣Ар╕Хр╕гр╕╡р╕вр╕бр╕гр╕░р╕Ър╕Ъ)
2. [р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З](#р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З)
3. [р╕Бр╕▓р╕г Test р╣Бр╕Ър╕Ъ Manual](#р╕Бр╕▓р╕г-test-р╣Бр╕Ър╕Ъ-manual)
4. [р╕Бр╕▓р╕г Test р╣Бр╕Ър╕Ъ Automated](#р╕Бр╕▓р╕г-test-р╣Бр╕Ър╕Ъ-automated)
5. [р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓](#р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓)
6. [р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕г Test](#р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕г-test)

---

## ЁЯЪА р╕Бр╕▓р╕гр╣Ар╕Хр╕гр╕╡р╕вр╕бр╕гр╕░р╕Ър╕Ъ

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╣Ар╕Ыр╕┤р╕Ф Flask App
```bash
# р╣Ар╕Ыр╕┤р╕Ф terminal р╣Бр╕ер╕░р╣Др╕Ыр╕Чр╕╡р╣Ир╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╣Вр╕Ыр╕гр╣Ар╕Ир╕Д
cd C:\Users\urare\HA\HA_file_final

# р╕гр╕▒р╕Щ Flask app
python app.py
```

**р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ:**
```
 * Running on http://0.0.0.0:5001
 * Debug mode: on
```

**р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕:** р╕Ыр╕ер╣Ир╕нр╕вр╣Гр╕лр╣Й Flask app р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕зр╣Йр╣Гр╕Щ terminal р╕Щр╕▒р╣Йр╕Щ

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З pytest
```bash
# р╣Ар╕Ыр╕┤р╕Ф terminal р╣Гр╕лр╕бр╣И (р╕лр╕гр╕╖р╕н tab р╣Гр╕лр╕бр╣И)
cd C:\Users\urare\HA\HA_file_final

# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ pytest р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕ер╣Йр╕зр╕лр╕гр╕╖р╕нр╣Др╕бр╣И
pytest --version

# р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Йр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З р╣Гр╕лр╣Йр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕Бр╣Ир╕нр╕Щ
pip install pytest
pip install requests
```

---

## ЁЯОп р╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З

### ЁЯФз **р╣Др╕Яр╕ер╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╣Бр╕ер╕░р╕Ър╕│р╕гр╕╕р╕Зр╕гр╕▒р╕Бр╕йр╕▓**

#### **`fix_duplicate_departments.py` - р╣Бр╕Бр╣Йр╣Др╕Вр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│**
**ЁЯОп р╕зр╕▒р╕Хр╕Цр╕╕р╕Ыр╕гр╕░р╕кр╕Зр╕Др╣М:** р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│р╣Гр╕Щр╕гр╕░р╕Ър╕Ъ

**ЁЯЪи р╣Ар╕бр╕╖р╣Ир╕нр╣Др╕лр╕гр╣Ир╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Й:**
- р╕бр╕╡р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Кр╕╖р╣Ир╕нр╕Лр╣Йр╕│р╕Бр╕▒р╕Щр╣Гр╕Щр╕гр╕░р╕Ър╕Ъ
- р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕ер╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╣Др╕Фр╣Й (IntegrityError)
- р╕лр╕Щр╣Йр╕▓ stats р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф
- р╕гр╕░р╕Ър╕Ър╕бр╕╡р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╣Ар╕Бр╕┤р╕Щр╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Др╕зр╕гр╕бр╕╡

**ЁЯУЛ р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:**
```bash
# р╕гр╕▒р╕Щ script
python fix_duplicate_departments.py

# р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 1 р╣Ар╕Юр╕╖р╣Ир╕нр╕ер╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│
# р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 2 р╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф
# р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 3 р╣Ар╕Юр╕╖р╣Ир╕нр╕нр╕нр╕Бр╕Ир╕▓р╕Бр╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕б
```

**тЬЕ р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М:**
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Вр╣Йр╕нр╕З
- р╕вр╣Йр╕▓р╕вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Бр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│р╣Др╕Ыр╕вр╕▒р╕Зр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕лр╕ер╕▒р╕Б
- р╕ер╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│р╕нр╕вр╣Ир╕▓р╕Зр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в
- р╣Ар╕Бр╣Зр╕Ъ ID р╕Чр╕╡р╣Ир╕Щр╣Йр╕нр╕вр╕Чр╕╡р╣Ир╕кр╕╕р╕Фр╣Ар╕Ыр╣Зр╕Щр╕лр╕ер╕▒р╕Б

**ЁЯФН р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М:**
```
=== р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│ ===
р╕Юр╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│ 1 р╕гр╕▓р╕вр╕Бр╕▓р╕г:
  - р╕лр╕Щр╣Ир╕зр╕вр╕лр╕▒р╕зр╣Гр╕Ир╕Вр╕▓р╕Фр╣Ар╕ер╕╖р╕нр╕Ф: 2 р╕гр╕▓р╕вр╕Бр╕▓р╕г (IDs: 5,13)

=== р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│ ===
р╕лр╕Щр╣Ир╕зр╕вр╕лр╕▒р╕зр╣Гр╕Ир╕Вр╕▓р╕Фр╣Ар╕ер╕╖р╕нр╕Ф:
  ID 5: р╕лр╕Щр╣Ир╕зр╕вр╕лр╕▒р╕зр╣Гр╕Ир╕Вр╕▓р╕Фр╣Ар╕ер╕╖р╕нр╕Ф (STEMI_NSTEMI) - р╣Др╕бр╣Ир╕бр╕╡ Patient Cases
  ID 13: р╕лр╕Щр╣Ир╕зр╕вр╕лр╕▒р╕зр╣Гр╕Ир╕Вр╕▓р╕Фр╣Ар╕ер╕╖р╕нр╕Ф (STEMI) - р╕бр╕╡ Patient Cases 1 р╕гр╕▓р╕вр╕Бр╕▓р╕г

=== р╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Бр╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В ===
1. р╕ер╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (р╣Ар╕Бр╣Зр╕Ъ ID р╕Чр╕╡р╣Ир╕Щр╣Йр╕нр╕вр╕Чр╕╡р╣Ир╕кр╕╕р╕Ф)
2. р╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б
3. р╕нр╕нр╕Бр╕Ир╕▓р╕Бр╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕б
```

**тЪая╕П р╕Вр╣Йр╕нр╕Др╕зр╕гр╕гр╕░р╕зр╕▒р╕З:**
- **р╕Хр╣Йр╕нр╕Зр╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 1** р╣Ар╕Юр╕╖р╣Ир╕нр╕ер╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│р╕Ир╕гр╕┤р╕З
- Script р╕Ир╕░р╕вр╣Йр╕▓р╕вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Бр╣Ир╕нр╕Щр╕ер╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ
- р╣Ар╕Бр╣Зр╕Ъ ID р╕Чр╕╡р╣Ир╕Щр╣Йр╕нр╕вр╕Чр╕╡р╣Ир╕кр╕╕р╕Фр╣Ар╕Ыр╣Зр╕Щр╕лр╕ер╕▒р╕Бр╣Ар╕кр╕бр╕н
- р╕Др╕зр╕г backup р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╣Ир╕нр╕Щр╕гр╕▒р╕Щ (р╕Цр╣Йр╕▓р╣Ар╕Ыр╣Зр╕Щ production)

---

### ЁЯУЪ р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З

р╣Гр╕Щр╣Вр╕Ыр╕гр╣Ар╕Ир╕Др╕Щр╕╡р╣Йр╕бр╕╡р╣Др╕Яр╕ер╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З 2 р╣Др╕Яр╕ер╣М:

#### **1. `create_sample_data_simple.py` (р╣Бр╕Щр╕░р╕Щр╕│р╣Гр╕лр╣Йр╣Гр╕Кр╣Й)**
**тЬЕ р╕Вр╣Йр╕нр╕Фр╕╡:**
- р╕Зр╣Ир╕▓р╕вр╕Бр╕зр╣Ир╕▓ - р╣Гр╕Кр╣Й SQLite р╣Вр╕Фр╕вр╕Хр╕гр╕З р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Ьр╣Ир╕▓р╕Щ Flask
- р╣Ар╕гр╣Зр╕зр╕Бр╕зр╣Ир╕▓ - р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Вр╕лр╕ер╕Ф Flask app
- р╣Ар╕кр╕Цр╕╡р╕вр╕гр╕Бр╕зр╣Ир╕▓ - р╣Др╕бр╣Ир╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ import р╕лр╕гр╕╖р╕н dependency
- р╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕вр╕Бр╕зр╣Ир╕▓ - р╣Др╕бр╣Ир╕Бр╕гр╕░р╕Чр╕Ър╕Бр╕▒р╕Ъ Flask app р╕Чр╕╡р╣Ир╕Бр╕│р╕ер╕▒р╕Зр╕Чр╕│р╕Зр╕▓р╕Щ

**ЁЯФз р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
```python
import sqlite3  # р╣Ар╕Кр╕╖р╣Ир╕нр╕бр╕Хр╣Ир╕нр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Фр╕вр╕Хр╕гр╕З
conn = sqlite3.connect('instance/hospital.db')
cursor = conn.cursor()
```

**ЁЯОп р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М:**
- р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ 5 р╣Бр╕лр╣Ир╕З
- р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в 5 р╕гр╕▓р╕в
- р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ
- р╕ер╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З

#### **2. `create_sample_data.py` (р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щр╕Бр╕зр╣Ир╕▓)**
**тЪая╕П р╕Вр╣Йр╕нр╣Ар╕кр╕╡р╕в:**
- р╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щр╕Бр╕зр╣Ир╕▓ - р╕Хр╣Йр╕нр╕Зр╕Ьр╣Ир╕▓р╕Щ Flask app р╣Бр╕ер╕░ models
- р╕Кр╣Йр╕▓р╕Бр╕зр╣Ир╕▓ - р╕Хр╣Йр╕нр╕Зр╣Вр╕лр╕ер╕Ф Flask app р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
- р╣Ар╕кр╕╡р╣Ир╕вр╕Зр╕Бр╕зр╣Ир╕▓ - р╕нр╕▓р╕Ир╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ import р╕лр╕гр╕╖р╕н dependency
- р╕Хр╣Йр╕нр╕Зр╕Ыр╕┤р╕Ф Flask app р╕Бр╣Ир╕нр╕Щр╕гр╕▒р╕Щ

**ЁЯФз р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ:**
```python
from app import app, db  # р╕Хр╣Йр╕нр╕Зр╣Вр╕лр╕ер╕Ф Flask app
from models import Department, PatientCase, AdminUser
with app.app_context():  # р╕Хр╣Йр╕нр╕Зр╕бр╕╡ Flask context
```

**ЁЯОп р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣М:**
- р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ 5 р╣Бр╕лр╣Ир╕З
- р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в 5 р╕гр╕▓р╕в
- р╕кр╕гр╣Йр╕▓р╕З admin user
- р╕ер╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З

### ЁЯУЛ р╕Вр╣Йр╕нр╣Бр╕Щр╕░р╕Щр╕│р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

#### **р╣Гр╕Кр╣Й `create_sample_data_simple.py` р╣Ар╕бр╕╖р╣Ир╕н:**
- тЬЕ р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕нр╕вр╣Ир╕▓р╕Зр╕гр╕зр╕Фр╣Ар╕гр╣Зр╕з
- тЬЕ Flask app р╕Бр╕│р╕ер╕▒р╕Зр╕Чр╕│р╕Зр╕▓р╕Щр╕нр╕вр╕╣р╣И
- тЬЕ р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З admin user р╣Гр╕лр╕бр╣И
- тЬЕ р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╣Ар╕кр╕Цр╕╡р╕вр╕г

#### **р╣Гр╕Кр╣Й `create_sample_data.py` р╣Ар╕бр╕╖р╣Ир╕н:**
- тЪая╕П р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З admin user р╣Гр╕лр╕бр╣И
- тЪая╕П Flask app р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕Чр╕│р╕Зр╕▓р╕Щ
- тЪая╕П р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Гр╕Кр╣Й Flask models
- тЪая╕П р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Др╕зр╕▓р╕бр╕вр╕╖р╕Фр╕лр╕вр╕╕р╣Ир╕Щр╕бр╕▓р╕Бр╕Вр╕╢р╣Йр╕Щ

### ЁЯЪА р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З

#### **р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Гр╕Щр╕гр╕░р╕Ър╕Ъ**
```bash
# р╣Ар╕Ыр╕┤р╕Ф terminal р╣Гр╕лр╕бр╣И (р╕лр╕гр╕╖р╕н tab р╣Гр╕лр╕бр╣И)
cd C:\Users\urare\HA\HA_file_final

# р╕гр╕▒р╕Щр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З (р╣Бр╕Щр╕░р╕Щр╕│)
python create_sample_data_simple.py

# р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щр╕Бр╕зр╣Ир╕▓ (р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г)
python create_sample_data.py
```

**р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 1** р╣Ар╕Юр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З

**р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ:**
```
ЁЯЪА р╣Ар╕гр╕┤р╣Ир╕бр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З...
ЁЯПе р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ...
   тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ: р╕лр╕Щр╣Ир╕зр╕вр╣Ар╕Ър╕▓р╕лр╕зр╕▓р╕Щ
   тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ: р╕лр╕Щр╣Ир╕зр╕вр╕Ыр╕нр╕Фр╕нр╕╕р╕Фр╕Бр╕▒р╣Йр╕Щр╣Ар╕гр╕╖р╣Йр╕нр╕гр╕▒р╕З
   тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ: р╕лр╕Щр╣Ир╕зр╕вр╕лр╕▒р╕зр╣Гр╕Ир╕Вр╕▓р╕Фр╣Ар╕ер╕╖р╕нр╕Ф
   тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ: р╕лр╕Щр╣Ир╕зр╕вр╣Вр╕гр╕Др╕лр╕ер╕нр╕Фр╣Ар╕ер╕╖р╕нр╕Фр╕кр╕бр╕нр╕З
   тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ: р╕лр╕Щр╣Ир╕зр╕вр╣Ар╕Др╕бр╕╡р╕Ър╕│р╕Ър╕▒р╕Ф

ЁЯСе р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в...
   тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в: р╕кр╕бр╕Кр╕▓р╕в р╣Бр╕бр╕Щр╣Ар╕бр╕╖р╕нр╕З (HN: 123456)
   тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в: р╕кр╕бр╕лр╕Нр╕┤р╕З р╣Гр╕Ир╕Фр╕╡ (HN: 234567)
   тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в: р╕кр╕бр╕ир╕▒р╕Бр╕Фр╕┤р╣М р╕гр╕▒р╕Бр╕кр╕╕р╕Вр╕ар╕▓р╕Ю (HN: 345678)
   тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в: р╕кр╕бр╕Ыр╕нр╕З р╣Гр╕Ир╣Ар╕вр╣Зр╕Щ (HN: 456789)
   тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в: р╕кр╕бр╕ир╕гр╕╡ р╕кр╕зр╕вр╕Зр╕▓р╕б (HN: 567890)

ЁЯОЙ р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ!

ЁЯУЛ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╕Вр╕╢р╣Йр╕Щ:
   ЁЯПе р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ: 5 р╣Бр╕лр╣Ир╕З
   ЁЯСе р╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в: 5 р╕гр╕▓р╕в

ЁЯФЧ р╕ер╕┤р╕Зр╕Бр╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Чр╕Фр╕кр╕нр╕Ъ:
   ЁЯМР р╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б: http://localhost:5001
   ЁЯУК р╕кр╕Цр╕┤р╕Хр╕┤: http://localhost:5001/stats
   ЁЯФР Admin Login: http://localhost:5001/admin/login
   ЁЯСе р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в: http://localhost:5001/admin/cases

ЁЯФС р╕Вр╣Йр╕нр╕бр╕╣р╕е Login:
   Username: admin
   Password: admin123
```

#### **р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╕Вр╕╢р╣Йр╕Щ**
```bash
# р╕гр╕▒р╕Щр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╣Бр╕ер╕░р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 3
python create_sample_data_simple.py
```

**р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 3** р╣Ар╕Юр╕╖р╣Ир╕нр╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ

#### **р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: р╕ер╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З (р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г)**
```bash
# р╕гр╕▒р╕Щр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╣Бр╕ер╕░р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 2
python create_sample_data_simple.py
```

**р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 2** р╣Ар╕Юр╕╖р╣Ир╕нр╕ер╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З

---

## ЁЯФН р╕Бр╕▓р╕г Test р╣Бр╕Ър╕Ъ Manual

### 1. **Test р╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╕лр╕ер╕▒р╕Б**
```bash
# р╣Ар╕Ыр╕┤р╕Ф browser р╣Др╕Ыр╕Чр╕╡р╣И
http://localhost:5001
```

**р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:**
- тЬЕ р╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╣Вр╕лр╕ер╕Фр╣Др╕Фр╣Й
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- тЬЕ р╕ер╕┤р╕Зр╕Бр╣Мр╕Хр╣Ир╕▓р╕Зр╣Ж р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Й
- тЬЕ р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Др╕Фр╣Й
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ 5 р╣Бр╕лр╣Ир╕З

### 2. **Test р╕лр╕Щр╣Йр╕▓р╕кр╕Цр╕┤р╕Хр╕┤**
```bash
# р╣Др╕Ыр╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓р╕кр╕Цр╕┤р╕Хр╕┤
http://localhost:5001/stats
```

**р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:**
- тЬЕ р╕лр╕Щр╣Йр╕▓р╣Вр╕лр╕ер╕Фр╣Др╕Фр╣Й
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕Бр╕гр╕▓р╕Яр╕кр╕Цр╕┤р╕Хр╕┤
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в 5 р╕гр╕▓р╕в
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▓р╕бр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ

### 3. **Test р╕Бр╕▓р╕г Login**
```bash
# р╣Др╕Ыр╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓ login
http://localhost:5001/admin/login
```

**р╕Чр╕Фр╕кр╕нр╕Ъ:**
- тЬЕ р╕Бр╕гр╕нр╕Б username: `admin`
- тЬЕ р╕Бр╕гр╕нр╕Б password: `admin123`
- тЬЕ р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б Login
- тЬЕ р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╣Др╕Фр╣Й

### 4. **Test р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в**
```bash
# р╣Др╕Ыр╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
http://localhost:5001/admin/cases
```

**р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:**
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в 5 р╕гр╕▓р╕в
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е HN, р╕Кр╕╖р╣Ир╕н, р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е, р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕зр╕┤р╕Щр╕┤р╕Ир╕Йр╕▒р╕в
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕

### 5. **Test р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в**
```bash
# р╣Др╕Ыр╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
http://localhost:5001/admin/cases/add
```

**р╕Чр╕Фр╕кр╕нр╕Ъ:**
- тЬЕ р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е HN: `999999`
- тЬЕ р╕Бр╕гр╕нр╕Бр╕Кр╕╖р╣Ир╕н: `р╕Чр╕Фр╕кр╕нр╕Ъ`
- тЬЕ р╕Бр╕гр╕нр╕Бр╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е: `р╕гр╕░р╕Ър╕Ъ`
- тЬЕ р╣Ар╕ер╕╖р╕нр╕Бр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ
- тЬЕ р╣Ар╕ер╕╖р╕нр╕Бр╕зр╕▒р╕Щр╕Чр╕╡р╣И
- тЬЕ р╕Бр╕Фр╕Ыр╕╕р╣Ир╕бр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б
- тЬЕ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕│р╣Ар╕гр╣Зр╕И

### 6. **Test р╕Бр╕▓р╕г Export CSV**
```bash
# р╣Др╕Ыр╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
http://localhost:5001/admin/cases
```

**р╕Чр╕Фр╕кр╕нр╕Ъ:**
- тЬЕ р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕ер╕Зр╣Др╕Ыр╕Чр╕╡р╣Ир╕кр╣Ир╕зр╕Щ "р╕кр╣Ир╕Зр╕нр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е"
- тЬЕ р╣Ар╕ер╕╖р╕нр╕Бр╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╣Бр╕ер╕░р╕кр╕┤р╣Йр╕Щр╕кр╕╕р╕Ф
- тЬЕ р╣Ар╕ер╕╖р╕нр╕Бр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ
- тЬЕ р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б "р╕Др╣Йр╕Щр╕лр╕▓" - р╕Др╕зр╕гр╣Бр╕кр╕Фр╕Зр╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
- тЬЕ р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б "Export CSV" - р╕Др╕зр╕гр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М

---

## ЁЯдЦ р╕Бр╕▓р╕г Test р╣Бр╕Ър╕Ъ Automated

### ЁЯУБ **р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М `tests/`**

р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М `tests/` р╕Цр╕╣р╕Бр╕Ир╕▒р╕Фр╕гр╕░р╣Ар╕Ър╕╡р╕вр╕Ър╕Хр╕▓р╕бр╕Ыр╕гр╕░р╣Ар╕ар╕Чр╕Бр╕▓р╕г test р╣Бр╕ер╕░р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:

#### **ЁЯУЛ р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕лр╕ер╕▒р╕Б:**
```
tests/
тФЬтФАтФА __init__.py                 # р╕Чр╕│р╣Гр╕лр╣Йр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╣Ар╕Ыр╣Зр╕Щ Python package
тФЬтФАтФА README.md                   # р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ tests
тФЬтФАтФА test_cases.py              # р╣Др╕Яр╕ер╣М test р╕лр╕ер╕▒р╕Б (р╕гр╕зр╕бр╕Чр╕╕р╕Б test cases)
тФЬтФАтФА utils/                     # р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕бр╕╖р╕нр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕нр╕кр╕│р╕лр╕гр╕▒р╕Ъ test
тФВ   тФЬтФАтФА __init__.py
тФВ   тФЬтФАтФА db_setup.py           # р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕│р╕лр╕гр╕▒р╕Ъ test
тФВ   тФФтФАтФА test_helpers.py       # р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕нр╕кр╕│р╕лр╕гр╕▒р╕Ъ test
тФЬтФАтФА fixtures/                  # р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░р╣Др╕Яр╕ер╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ъ test
тФВ   тФЬтФАтФА __init__.py
тФВ   тФЬтФАтФА test_data.sql         # SQL р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е test
тФВ   тФФтФАтФА sample_files/         # р╣Др╕Яр╕ер╣Мр╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕кр╕│р╕лр╕гр╕▒р╕Ъ test
тФЬтФАтФА migrations/                # Script р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
тФВ   тФЬтФАтФА __init__.py
тФВ   тФЬтФАтФА migrate_cases.py      # р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Хр╕▓р╕гр╕▓р╕З cases
тФВ   тФФтФАтФА migrate_cases_documents.py  # р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Хр╕▓р╕гр╕▓р╕З documents
тФЬтФАтФА integration/               # Test р╣Бр╕Ър╕Ъ integration (р╕Чр╕Фр╕кр╕нр╕Ър╕лр╕ер╕▓р╕вр╕кр╣Ир╕зр╕Щр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Щ)
тФВ   тФФтФАтФА __init__.py
тФФтФАтФА unit/                      # Test р╣Бр╕Ър╕Ъ unit (р╕Чр╕Фр╕кр╕нр╕Ър╣Бр╕Хр╣Ир╕ер╕░р╕кр╣Ир╕зр╕Щр╣Бр╕вр╕Бр╕Бр╕▒р╕Щ)
    тФФтФАтФА __init__.py
```

#### **ЁЯОп р╕зр╕▒р╕Хр╕Цр╕╕р╕Ыр╕гр╕░р╕кр╕Зр╕Др╣Мр╕Вр╕нр╕Зр╣Бр╕Хр╣Ир╕ер╕░р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М:**

**`utils/` - р╣Ар╕Др╕гр╕╖р╣Ир╕нр╕Зр╕бр╕╖р╕нр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н:**
- `db_setup.py`: р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е test, р╕кр╕гр╣Йр╕▓р╕З/р╕ер╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е test
- `test_helpers.py`: р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н р╣Ар╕Кр╣Ир╕Щ login, р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е, р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣М

**`fixtures/` - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░р╣Др╕Яр╕ер╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ъ test:**
- `test_data.sql`: SQL script р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е test
- `sample_files/`: р╣Др╕Яр╕ер╣Мр╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З (р╕гр╕╣р╕Ыр╕ар╕▓р╕Ю, PDF) р╕кр╕│р╕лр╕гр╕▒р╕Ъ test р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф

**`migrations/` - р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е:**
- `migrate_cases.py`: р╣Ар╕Юр╕┤р╣Ир╕бр╕Хр╕▓р╕гр╕▓р╕З `patient_case` р╣Бр╕ер╕░ `case_audit`
- `migrate_cases_documents.py`: р╣Ар╕Юр╕┤р╣Ир╕бр╕Яр╕┤р╕ер╕Фр╣Мр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Бр╕Щр╕Ъ

**`integration/` - Test р╣Бр╕Ър╕Ъ integration:**
- р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Щр╕Вр╕нр╕Зр╕лр╕ер╕▓р╕вр╕кр╣Ир╕зр╕Щ р╣Ар╕Кр╣Ир╕Щ login тЖТ р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕е тЖТ export

**`unit/` - Test р╣Бр╕Ър╕Ъ unit:**
- р╕Чр╕Фр╕кр╕нр╕Ър╣Бр╕Хр╣Ир╕ер╕░р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╣Бр╕вр╕Бр╕Бр╕▒р╕Щ р╣Ар╕Кр╣Ир╕Щ test р╕Бр╕▓р╕гр╕Др╕│р╕Щр╕зр╕У, test р╕Бр╕▓р╕г validate

---

### ЁЯУЛ **р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Бр╕Хр╣Ир╕ер╕░р╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М:**

#### **1. р╣Гр╕Кр╣Й `test_cases.py` (р╣Др╕Яр╕ер╣Мр╕лр╕ер╕▒р╕Б):**
```bash
# р╕гр╕▒р╕Щ test р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
python tests/test_cases.py

# р╕гр╕▒р╕Щ test р╣Ар╕Йр╕Юр╕▓р╕░р╕кр╣Ир╕зр╕Щ
python -c "
import tests.test_cases as tc
tc.test_public_stats()
"
```

#### **2. р╣Гр╕Кр╣Й `utils/` р╕кр╕│р╕лр╕гр╕▒р╕Ъ test р╕Чр╕╡р╣Ир╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ:**
```python
# р╣Гр╕Щр╣Др╕Яр╕ер╣М test р╕Вр╕нр╕Зр╕Др╕╕р╕У
from tests.utils.test_helpers import login_as_admin, create_test_case
from tests.utils.db_setup import setup_test_db, cleanup_test_db

# р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е test
setup_test_db()

# р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е test
case = create_test_case()

# р╕Чр╕Фр╕кр╕нр╕Ъ
assert case.hn == "123456"

# р╕Чр╕│р╕Др╕зр╕▓р╕бр╕кр╕░р╕нр╕▓р╕Ф
cleanup_test_db()
```

#### **3. р╣Гр╕Кр╣Й `fixtures/` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е test:**
```bash
# р╕гр╕▒р╕Щ SQL script р╣Ар╕Юр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е test
sqlite3 instance/hospital.db < tests/fixtures/test_data.sql

# р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣Мр╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Гр╕Щ sample_files/
# р╕кр╕│р╕лр╕гр╕▒р╕Ъ test р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М
```

#### **4. р╣Гр╕Кр╣Й `migrations/` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е:**
```bash
# р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ъ cases
python tests/migrations/migrate_cases.py

# р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ър╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Бр╕Щр╕Ъ
python tests/migrations/migrate_cases_documents.py
```

---

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕гр╕▒р╕Щ Test р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
```bash
# р╣Ар╕Ыр╕┤р╕Ф terminal р╣Гр╕лр╕бр╣И (р╕лр╕гр╕╖р╕н tab р╣Гр╕лр╕бр╣И)
cd C:\Users\urare\HA\HA_file_final

# р╕гр╕▒р╕Щ test р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
python tests/test_cases.py
```

**р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Др╕зр╕гр╣Ар╕лр╣Зр╕Щ:**
```
ЁЯФН р╕Чр╕Фр╕кр╕нр╕Ъ Public Statistics API...
тЬЕ Stats API р╕кр╕│р╣Ар╕гр╣Зр╕И: 5 cases
   - р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ: 5 р╣Бр╕лр╣Ир╕З
   - р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З: X%
тЬЕ Trends API р╕кр╕│р╣Ар╕гр╣Зр╕И: X р╣Ар╕Фр╕╖р╕нр╕Щ

ЁЯФН р╕Чр╕Фр╕кр╕нр╕Ъ Public Dashboard...
тЬЕ Public Dashboard р╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╣Др╕Фр╣Й
тЬЕ р╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
...
```

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╕гр╕▒р╕Щ Test р╕Фр╣Йр╕зр╕в pytest
```bash
# р╕гр╕▒р╕Щ test р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Фр╣Йр╕зр╕в pytest
pytest tests/ -v

# р╕гр╕▒р╕Щр╣Ар╕Йр╕Юр╕▓р╕░р╣Др╕Яр╕ер╣М test_cases.py
pytest tests/test_cases.py -v

# р╕гр╕▒р╕Щр╕Юр╕гр╣Йр╕нр╕бр╣Бр╕кр╕Фр╕З print statements
pytest tests/test_cases.py -v -s
```

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: р╕гр╕▒р╕Щ Test р╣Ар╕Йр╕Юр╕▓р╕░р╕кр╣Ир╕зр╕Щ
```bash
# р╕гр╕▒р╕Щр╣Ар╕Йр╕Юр╕▓р╕░ test_public_stats
python -c "
import tests.test_cases as tc
tc.test_public_stats()
"

# р╕гр╕▒р╕Щр╣Ар╕Йр╕Юр╕▓р╕░ test_admin_login
python -c "
import tests.test_cases as tc
tc.test_admin_login()
"
```

---

## ЁЯЫая╕П р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓

### **р╕Ыр╕▒р╕Нр╕лр╕▓ 1: ModuleNotFoundError**
```bash
# р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З packages р╕Чр╕╡р╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щ
pip install -r requirements.txt

# р╕лр╕гр╕╖р╕нр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕Чр╕╡р╕ер╕░р╕Хр╕▒р╕з
pip install requests
pip install pytest
```

### **р╕Ыр╕▒р╕Нр╕лр╕▓ 2: Connection refused**
```bash
# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Flask app р╕Чр╕│р╕Зр╕▓р╕Щр╕нр╕вр╕╣р╣И
# р╣Ар╕Ыр╕┤р╕Ф terminal р╣Гр╕лр╕бр╣Ир╣Бр╕ер╕░р╕гр╕▒р╕Щ
python app.py

# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ port 5001 р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
netstat -an | findstr :5001
```

### **р╕Ыр╕▒р╕Нр╕лр╕▓ 3: Import error**
```bash
# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕Яр╕ер╣М __init__.py р╕бр╕╡р╣Гр╕Щр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М tests
dir tests\

# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М
tree tests\ /f
```

### **р╕Ыр╕▒р╕Нр╕лр╕▓ 4: Test р╣Др╕бр╣Ир╕Ьр╣Ир╕▓р╕Щ**
```bash
# р╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф error
pytest tests/ -v -s

# р╕гр╕▒р╕Щ test р╣Ар╕Йр╕Юр╕▓р╕░р╕Хр╕▒р╕зр╕Чр╕╡р╣Ир╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓
python tests/test_cases.py
```

### **р╕Ыр╕▒р╕Нр╕лр╕▓ 5: р╣Др╕бр╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щр╕гр╕░р╕Ър╕Ъ**
```bash
# р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Гр╕лр╕бр╣И (р╣Бр╕Щр╕░р╕Щр╕│)
python create_sample_data_simple.py

# р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щр╕Бр╕зр╣Ир╕▓
python create_sample_data.py

# р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 1 р╣Ар╕Юр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
```

### **р╕Ыр╕▒р╕Нр╕лр╕▓ 6: р╣Ар╕Бр╕┤р╕Фр╕Ыр╕▒р╕Нр╕лр╕▓р╣Ар╕бр╕╖р╣Ир╕нр╣Гр╕Кр╣Й create_sample_data.py**
```bash
# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Flask app р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕Чр╕│р╕Зр╕▓р╕Щр╕нр╕вр╕╣р╣И
# р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣Мр╕Зр╣Ир╕▓р╕вр╣Ж р╣Бр╕Чр╕Щ
python create_sample_data_simple.py
```

### **р╕Ыр╕▒р╕Нр╕лр╕▓ 7: р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│р╣Гр╕Щр╕гр╕░р╕Ър╕Ъ**
```bash
# р╣Гр╕Кр╣Й script р╣Бр╕Бр╣Йр╣Др╕Вр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│
python fix_duplicate_departments.py

# р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 1 р╣Ар╕Юр╕╖р╣Ир╕нр╕ер╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│
# р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 2 р╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Ф
# р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 3 р╣Ар╕Юр╕╖р╣Ир╕нр╕нр╕нр╕Бр╕Ир╕▓р╕Бр╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕б
```

**р╕нр╕▓р╕Бр╕▓р╕гр╕Вр╕нр╕Зр╕Ыр╕▒р╕Нр╕лр╕▓:**
- р╕бр╕╡р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Кр╕╖р╣Ир╕нр╕Лр╣Йр╕│р╕Бр╕▒р╕Щр╣Гр╕Щр╕гр╕░р╕Ър╕Ъ
- р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕ер╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╣Др╕Фр╣Й (IntegrityError)
- р╕лр╕Щр╣Йр╕▓ stats р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Ф
- р╕гр╕░р╕Ър╕Ър╕бр╕╡р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╣Ар╕Бр╕┤р╕Щр╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Др╕зр╕гр╕бр╕╡

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕В:**
1. р╕гр╕▒р╕Щ `fix_duplicate_departments.py`
2. р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 1 (р╕ер╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│)
3. Script р╕Ир╕░р╕вр╣Йр╕▓р╕вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░р╕ер╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╣Гр╕Щр╕лр╕Щр╣Йр╕▓ departments

### **р╕Ыр╕▒р╕Нр╕лр╕▓ 8: р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕бр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ cases р╕лр╕гр╕╖р╕н documents**
```bash
# р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ъ cases
python tests/migrations/migrate_cases.py

# р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ър╣Ар╕нр╕Бр╕кр╕▓р╕гр╣Бр╕Щр╕Ъ
python tests/migrations/migrate_cases_documents.py
```

**р╕нр╕▓р╕Бр╕▓р╕гр╕Вр╕нр╕Зр╕Ыр╕▒р╕Нр╕лр╕▓:**
- OperationalError: no such column: patient_case.file_path
- р╕гр╕░р╕Ър╕Ър╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕вр╣Др╕Фр╣Й
- р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣Мр╣Др╕Фр╣Й

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕В:**
1. р╕гр╕▒р╕Щ migration script р╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕б
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Хр╕▓р╕гр╕▓р╕Зр╣Бр╕ер╕░р╕Яр╕┤р╕ер╕Фр╣Мр╕Цр╕╣р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╣Йр╕з
3. р╕гр╕╡р╕кр╕Хр╕▓р╕гр╣Мр╕Ч Flask app

### **р╕Ыр╕▒р╕Нр╕лр╕▓ 9: р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕е test р╕Чр╕╡р╣Ир╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ**
```bash
# р╣Гр╕Кр╣Й fixtures р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е test
sqlite3 instance/hospital.db < tests/fixtures/test_data.sql

# р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Й utilities р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е test
python -c "
from tests.utils.db_setup import setup_test_db
setup_test_db()
"
```

**р╕нр╕▓р╕Бр╕▓р╕гр╕Вр╕нр╕Зр╕Ыр╕▒р╕Нр╕лр╕▓:**
- р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕е test р╕Чр╕╡р╣Ир╕лр╕ер╕▓р╕Бр╕лр╕ер╕▓р╕в
- р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Др╕Яр╕ер╣Мр╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕кр╕│р╕лр╕гр╕▒р╕Ъ test р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Ф
- р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е test р╣Бр╕Ър╕Ър╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Йр╣Др╕В:**
1. р╣Гр╕Кр╣Й `tests/fixtures/test_data.sql` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ
2. р╣Гр╕Кр╣Й `tests/utils/db_setup.py` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
3. р╣Гр╕Кр╣Й `tests/utils/test_helpers.py` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н

---

## ЁЯУК р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕г Test

### **Test Case 1: р╕гр╕░р╕Ър╕Ъ Login**
```bash
# 1. р╣Ар╕Ыр╕┤р╕Ф browser
# 2. р╣Др╕Ыр╕Чр╕╡р╣И http://localhost:5001/admin/login
# 3. р╕Бр╕гр╕нр╕Б username: admin
# 4. р╕Бр╕гр╕нр╕Б password: admin123
# 5. р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б Login
# 6. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╣Др╕Фр╣Й
```

### **Test Case 2: р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в**
```bash
# 1. р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ admin
# 2. р╣Др╕Ыр╕Чр╕╡р╣И http://localhost:5001/admin/cases/add
# 3. р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
# 4. р╕Бр╕Фр╕Ыр╕╕р╣Ир╕бр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б
# 5. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕│р╣Ар╕гр╣Зр╕И
```

### **Test Case 3: р╕Бр╕▓р╕г Export р╕Вр╣Йр╕нр╕бр╕╣р╕е**
```bash
# 1. р╣Др╕Ыр╕Чр╕╡р╣И http://localhost:5001/admin/cases
# 2. р╣Ар╕ер╕╖р╣Ир╕нр╕Щр╕ер╕Зр╣Др╕Ыр╕Чр╕╡р╣Ир╕кр╣Ир╕зр╕Щ Export
# 3. р╣Ар╕ер╕╖р╕нр╕Бр╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Бр╕ер╕░р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ
# 4. р╕Бр╕Фр╕Ыр╕╕р╣Ир╕бр╕Др╣Йр╕Щр╕лр╕▓
# 5. р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б Export CSV
# 6. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕Яр╕ер╣Мр╕Цр╕╣р╕Бр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Ф
```

---

## ЁЯУЛ Checklist р╕Бр╕▓р╕г Test

### **р╕Бр╕▓р╕гр╣Ар╕Хр╕гр╕╡р╕вр╕бр╕Вр╣Йр╕нр╕бр╕╣р╕е**
- [ ] р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Фр╣Йр╕зр╕в `create_sample_data_simple.py` (р╣Бр╕Щр╕░р╕Щр╕│)
- [ ] р╕лр╕гр╕╖р╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Фр╣Йр╕зр╕в `create_sample_data.py` (р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г)
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ 5 р╣Бр╕лр╣Ир╕З
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в 5 р╕гр╕▓р╕в
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ admin user р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### **р╕Бр╕▓р╕г Test р╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ**
- [ ] р╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╣Вр╕лр╕ер╕Фр╣Др╕Фр╣Й
- [ ] р╕Бр╕▓р╕г login р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Й
- [ ] р╕Бр╕▓р╕г logout р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Й
- [ ] р╣Ар╕бр╕Щр╕╣р╕Хр╣Ир╕▓р╕Зр╣Ж р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Др╕Фр╣Й

### **р╕Бр╕▓р╕г Test р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕лр╕ер╕▒р╕Б**
- [ ] р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
- [ ] р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
- [ ] р╕Бр╕▓р╕гр╕ер╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в
- [ ] р╕Бр╕▓р╕гр╕Др╣Йр╕Щр╕лр╕▓р╕Вр╣Йр╕нр╕бр╕╣р╕е
- [ ] р╕Бр╕▓р╕г export CSV

### **р╕Бр╕▓р╕г Test р╣Ар╕нр╕Бр╕кр╕▓р╕г**
- [ ] р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М
- [ ] р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕ер╕┤р╕Зр╕Бр╣Мр╕ар╕▓р╕вр╕Щр╕нр╕Б
- [ ] р╕Бр╕▓р╕гр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Др╕Яр╕ер╣М
- [ ] р╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╣Ар╕нр╕Бр╕кр╕▓р╕г

### **р╕Бр╕▓р╕г Test р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ**
- [ ] р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╣Гр╕лр╕бр╣И
- [ ] р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ
- [ ] р╕Бр╕▓р╕гр╕ер╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щ (р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕бр╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╣Йр╕▓р╕Зр╕нр╕┤р╕З)
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Др╕бр╣Ир╕бр╕╡р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│р╣Гр╕Щр╕гр╕░р╕Ър╕Ъ
- [ ] р╣Гр╕Кр╣Й `fix_duplicate_departments.py` р╣Ар╕бр╕╖р╣Ир╕нр╕Юр╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│

### **р╕Бр╕▓р╕г Test р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕ер╕░ Utilities**
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М `tests/` р╕Др╕гр╕Ър╕Цр╣Йр╕зр╕Щ
- [ ] р╣Гр╕Кр╣Й `tests/utils/` р╕кр╕│р╕лр╕гр╕▒р╕Ъ test р╕Чр╕╡р╣Ир╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ
- [ ] р╣Гр╕Кр╣Й `tests/fixtures/` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Вр╣Йр╕нр╕бр╕╣р╕е test
- [ ] р╣Гр╕Кр╣Й `tests/migrations/` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
- [ ] р╣Гр╕Кр╣Й `tests/integration/` р╕кр╕│р╕лр╕гр╕▒р╕Ъ test р╣Бр╕Ър╕Ъ integration
- [ ] р╣Гр╕Кр╣Й `tests/unit/` р╕кр╕│р╕лр╕гр╕▒р╕Ъ test р╣Бр╕Ър╕Ъ unit

---

## ЁЯТб р╣Ар╕Др╕ер╣Зр╕Фр╕ер╕▒р╕Ър╕Бр╕▓р╕г Test

1. **р╣Ар╕гр╕┤р╣Ир╕бр╕Ир╕▓р╕Бр╕Зр╣Ир╕▓р╕вр╣Др╕Ыр╕вр╕▓р╕Б** - Test р╕лр╕Щр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╕Бр╣Ир╕нр╕Щ р╣Бр╕ер╣Йр╕зр╕Др╣Ир╕нр╕в test р╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Лр╕▒р╕Ър╕Лр╣Йр╕нр╕Щ
2. **Test р╕Чр╕╡р╕ер╕░р╕кр╣Ир╕зр╕Щ** - р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕З test р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╕Юр╕гр╣Йр╕нр╕бр╕Бр╕▒р╕Щ
3. **р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Ьр╕ер╕Бр╕▓р╕г test** - р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕Чр╕╡р╕вр╕Ър╕Бр╣Ир╕нр╕Щ-р╕лр╕ер╕▒р╕З
4. **Test р╕Ър╣Ир╕нр╕вр╣Ж** - р╕Чр╕╕р╕Бр╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣Ир╣Бр╕Бр╣Йр╣Др╕Вр╣Вр╕Др╣Йр╕Ф
5. **р╣Гр╕Кр╣Й browser р╕лр╕ер╕▓р╕вр╕Хр╕▒р╕з** - р╣Ар╕Юр╕╖р╣Ир╕нр╕Чр╕Фр╕кр╕нр╕Ър╕Др╕зр╕▓р╕бр╣Ар╕Вр╣Йр╕▓р╕Бр╕▒р╕Щр╣Др╕Фр╣Й
6. **р╣Гр╕Кр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З** - р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕гр╕┤р╕З
7. **р╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣Мр╕Зр╣Ир╕▓р╕вр╣Ж** - `create_sample_data_simple.py` р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З

---

## ЁЯЪи р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕░р╕зр╕▒р╕З

1. **р╕нр╕вр╣Ир╕▓р╕ер╕╖р╕бр╣Ар╕Ыр╕┤р╕Ф Flask app** р╕Бр╣Ир╕нр╕Щр╕гр╕▒р╕Щ test
2. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ port 5001** р╕зр╣Ир╕▓р╣Др╕бр╣Ир╕Цр╕╣р╕Бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
3. **р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕│р╕Др╕▒р╕Н** р╕Бр╣Ир╕нр╕Щ test р╕гр╕░р╕Ър╕Ъ
4. **р╣Гр╕Кр╣Йр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕Фр╕кр╕нр╕Ъ** р╣Др╕бр╣Ир╣Гр╕Кр╣Ир╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕гр╕┤р╕З
5. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ error log** р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕Бр╕┤р╕Фр╕Ыр╕▒р╕Нр╕лр╕▓
6. **р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╣Ир╕нр╕Щ** test р╕гр╕░р╕Ър╕Ъ
7. **р╣Ар╕ер╕╖р╕нр╕Бр╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Ар╕лр╕бр╕▓р╕░р╕кр╕б** - р╣Гр╕Кр╣Й `create_sample_data_simple.py` р╣Ар╕Ыр╣Зр╕Щр╕лр╕ер╕▒р╕Б

---

## ЁЯУЮ р╕Бр╕▓р╕гр╕Вр╕нр╕Др╕зр╕▓р╕бр╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н

р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕Ир╕нр╕Ыр╕▒р╕Нр╕лр╕▓ р╣Гр╕лр╣Йр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б:
- р╕лр╕Щр╣Йр╕▓р╕Чр╕╡р╣Ар╕Бр╕┤р╕Фр╕Ыр╕▒р╕Нр╕лр╕▓
- р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣Ир╕Чр╕│
- р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б error
- р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕╡р╣Ир╕Бр╕гр╕нр╕Б
- р╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╣Ар╕Бр╕┤р╕Фр╕Ыр╕▒р╕Нр╕лр╕▓
- Screenshot (р╕Цр╣Йр╕▓р╣Ар╕Ыр╣Зр╕Щр╣Др╕Ыр╣Др╕Фр╣Й)
- р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕Щр╕гр╕░р╕Ър╕Ъ (р╣Гр╕Кр╣Й `python create_sample_data_simple.py` р╣Ар╕ер╕╖р╕нр╕Бр╕Хр╕▒р╕зр╣Ар╕ер╕╖р╕нр╕Б 3)
- р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З

---

## ЁЯОп р╕кр╕гр╕╕р╕Ы

р╕Бр╕▓р╕г test р╕гр╕░р╕Ър╕Ър╣Ар╕Ыр╣Зр╕Щр╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕кр╕│р╕Др╕▒р╕Нр╕Чр╕╡р╣Ир╕Кр╣Ир╕зр╕вр╣Гр╕лр╣Йр╕бр╕▒р╣Ир╕Щр╣Гр╕Ир╕зр╣Ир╕▓р╕гр╕░р╕Ър╕Ър╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З р╣Ар╕гр╕┤р╣Ир╕бр╕Ир╕▓р╕Бр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З р╣Бр╕ер╣Йр╕зр╕Др╣Ир╕нр╕вр╣Ж test р╕Чр╕╡р╕ер╕░р╕кр╣Ир╕зр╕Щ

**р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕лр╕ер╕▒р╕Бр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Ър╣Ир╕нр╕в:**
```bash
# р╣Ар╕Ыр╕┤р╕Ф Flask app
python app.py

# р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З (р╣Бр╕Щр╕░р╕Щр╕│)
python create_sample_data_simple.py

# р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З (р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г)
python create_sample_data.py

# р╣Бр╕Бр╣Йр╣Др╕Вр╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│
python fix_duplicate_departments.py

# р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
python tests/migrations/migrate_cases.py
python tests/migrations/migrate_cases_documents.py

# р╕гр╕▒р╕Щ test р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
python tests/test_cases.py

# р╕гр╕▒р╕Щ test р╕Фр╣Йр╕зр╕в pytest
pytest tests/ -v

# р╣Гр╕Кр╣Й utilities р╣Бр╕ер╕░ fixtures
python -c "from tests.utils.db_setup import setup_test_db; setup_test_db()"
```

**ЁЯОп р╕Вр╣Йр╕нр╣Бр╕Щр╕░р╕Щр╕│р╕кр╕│р╕Др╕▒р╕Н:**
- р╣Гр╕Кр╣Й `create_sample_data_simple.py` р╣Ар╕Ыр╣Зр╕Щр╕лр╕ер╕▒р╕Б (р╕Зр╣Ир╕▓р╕в, р╣Ар╕гр╣Зр╕з, р╣Ар╕кр╕Цр╕╡р╕вр╕г)
- р╣Гр╕Кр╣Й `create_sample_data.py` р╣Ар╕Йр╕Юр╕▓р╕░р╣Ар╕бр╕╖р╣Ир╕нр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╕Яр╕╡р╣Ар╕Ир╕нр╕гр╣Мр╕Юр╕┤р╣Ар╕ир╕й
- р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╣Ир╕нр╕Щр╣Ар╕гр╕┤р╣Ир╕б test р╕гр╕░р╕Ър╕Ъ
- р╣Гр╕Кр╣Й `fix_duplicate_departments.py` р╣Ар╕бр╕╖р╣Ир╕нр╕Юр╕Ър╕Ыр╕▒р╕Нр╕лр╕▓р╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕лр╕Щр╣Ир╕зр╕вр╕Зр╕▓р╕Щр╕Лр╣Йр╕│р╣Ар╕Ыр╣Зр╕Щр╕Ыр╕гр╕░р╕Ир╕│р╣Ар╕Юр╕╖р╣Ир╕нр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Ыр╕▒р╕Нр╕лр╕▓

**Happy Testing! ЁЯОЙ**
